@{
    ViewData["Title"] = (Model.Id == 0) ? "Tạo lớp học" : "Sửa lớp học";
}

@model ClassViewModel

@{
    var vnActionName = (Model.Id == 0) ? "Tạo" : "Sửa";
    var enActionName = (Model.Id == 0) ? "Add" : "Edit";
    ViewData["Title"] = $"{vnActionName} lớp học";
}

<div class="container-fluid mt-4">
    <div class="row justify-content-center">
        <div class="col-12 col-lg-10">
            <div class="card shadow-sm">
                <div class="card-body p-4">
                    <div class="d-flex justify-content-between align-items-center mb-4">
                        <div>
                            <a href="@Url.Action("Index", "Class")" class="btn btn-outline-primary mb-3">
                                <i class="bi bi-arrow-left"></i> Quay lại
                            </a>
                            <h2 class="mb-0">@vnActionName lớp học</h2>
                        </div>
                    </div>

                    <form method="post" asp-action="@enActionName" asp-controller="Class">
                        <input asp-for="Id" type="hidden" />

                        <div asp-validation-summary="ModelOnly" class="text-danger mb-3"></div>

                        <div class="row g-3">
                            <!-- Tên lớp -->
                            <div class="col-12">
                                <div class="form-floating">
                                    <input asp-for="Name" class="form-control" placeholder="Nhập tên lớp">
                                    <label asp-for="Name">Tên lớp học</label>
                                    <span asp-validation-for="Name" class="text-danger"></span>
                                </div>
                            </div>

                            <!-- Môn học -->
                            <div class="col-12">
                                <div class="form-floating">
                                    <select asp-for="CourseId" asp-items="Model.Courses" class="form-select">
                                        <option>Chọn môn học</option>
                                    </select>
                                    <label asp-for="CourseId">Môn học</label>
                                    <span asp-validation-for="CourseId" class="text-danger"></span>
                                </div>
                            </div>

                            <!-- Phòng học -->
                            <div class="col-12">
                                <div class="form-floating">
                                    <input asp-for="RoomNumber" class="form-control" placeholder="Nhập tên phòng học">
                                    <label asp-for="RoomNumber">Phòng học</label>
                                    <span asp-validation-for="RoomNumber" class="text-danger"></span>
                                </div>
                            </div>

                            <!-- Sức chứa lớp -->
                            <div class="col-12">
                                <div class="form-floating">
                                    <input asp-for="Capacity" class="form-control" type="number" min="1" placeholder="Nhập sĩ số">
                                    <label asp-for="Capacity">Sức chứa lớp</label>
                                    <span asp-validation-for="Capacity" class="text-danger"></span>
                                </div>
                            </div>

                            <!--Ngày bắt đầu -->
                            <div class="col-6">
                                <div class="form-floating">
                                    <input asp-for="StartDate" class="form-control" type="date" value="@(Model.Id != 0 ? Model.StartDate.ToString("yyyy-MM-dd") : DateTime.Now.ToString("yyyy-MM-dd"))">
                                    <label asp-for="StartDate">Ngày bắt đầu</label>
                                    <span asp-validation-for="StartDate" class="text-danger"></span>
                                </div>
                            </div>
                            <!--Ngày kết thúc-->
                            <div class="col-6">
                                <div class="form-floating">
                                    <input asp-for="EndDate" class="form-control" type="date" value="@(Model.Id != 0 ? Model.EndDate.ToString("yyyy-MM-dd") : DateTime.Now.ToString("yyyy-MM-dd"))">
                                    <label asp-for="EndDate">Ngày kết thúc</label>
                                    <span asp-validation-for="EndDate" class="text-danger"></span>
                                </div>
                            </div>


                        <div class="d-grid gap-2 mt-4">
                            <button type="submit" class="btn btn-primary">
                                <i class="bi bi-save me-2"></i>@vnActionName
                            </button>
                        </div>
                    </form>
                </div>
            </div>
        </div>
    </div>
</div>




